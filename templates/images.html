<html>

<head>
    <link rel='stylesheet' href='/static/styles/images.min.css' />
    <title>Images Search</title>
    <script>
        window.data_saver = false;
    </script>
    <meta name='viewport' content="width=device-width,initial-scale=1.0,maximum-scale=1.0" />
</head>

<body>
    <div>
        <button class=ipg id=ytdl>Save Data on Images</button>
        <button class='ipg' id='static_page' jsfunc='return new XMLSerializer().serializeToString(document)'>Get A static Copy of this Page</button>
        <script>
            document.getElementById("static_page").onclick = function () {
                var func = new Function(this.getAttribute("jsfunc"));
                var blob = window.URL.createObjectURL(new Blob([func()], {
                    type: "text/html"
                }));
                var link_ = document.createElement("a"),
                    old = document.createElement("a");
                old.href = window.location.href;
                old.target = '__blank';
                document.body.appendChild(old);
                link_.href = blob;
                document.body.appendChild(link_);
                old.click()
                link_.click();
            }
        </script>
    </div>
    <script>
        var custom_dl = document.getElementById("ytdl")
        custom_dl.onclick = function () {
            el_array = document.getElementsByClassName("display-imgs");
            if (window.data_saver) {
                custom_dl.innerHTML = 'Using Full Quality Images';
                window.data_saver = false;
                change_href(el_array, false);
            } else {
                window.data_saver = true;
                change_href(el_array, true);
                custom_dl.innerHTML = 'Using Compressed Images';
            }
        }

        function change_href(el_array, val) {
            for (var i = 0; i < el_array.length; i++) {
                el = el_array[i];
                if (val) {
                    el.src = el.getAttribute("data-fallback");
                } else {
                    el.src = el.getAttribute("data-original");
                }
            }
        }
    </script>
    <div id='img-viewer'>
        <span>Close</span>
    </div>
    <a href='/search' id=txt-link>Web Search</a>
    <div style="margin:auto;text-align: center;">
        <div id=main>
            <div class=input-box>
                <div class=desc>
                    <span id=useless>Search For Images</span>
                </div>
                <div style="margin-top: 25px;">
                    <div id=search-ghost style="font-size: 12px;visibility: hidden;margin-bottom: 10px;">Search</div>
                    <input id=search class=input_n placeholder="Search" style="text-align: center">
                </div>
                <button id=btn_s>Search</button>
            </div>
            <div id=content style="display: none">
                <h1>Results From Bing</h1>
                <div id=bing>
                </div>
                <h1>Results From Google</h1>
                <div id=google>
                </div>
            </div>
        </div>
    </div>
    <script src='/static/js/images.min.js'></script>
    <script>
        //{% if query %}
        var txt = document.createElement("textarea");
        txt.innerHTML = "{{query}}";
        input.value = txt.value;
        submit.click();
        //{% endif %}
    </script>
</body>

</html>